# Объектно-ориентированное программирование  

## Лабораторная работа №11  
---  
## Теоретическая справка   

### QMenu
`QMenu` - это класс в Qt, который представляет выпадающее меню в пользовательском интерфейсе. Он может быть использован для создания меню с подменю, действиями и различными элементами управления.

QMenu может быть создан и добавлен к виджету или другому меню с помощью метода `addWidget()` или `addMenu()`. Действия могут быть добавлены в меню с помощью метода `addAction()`. Каждое действие может быть связано со слотом, который будет вызван при выборе пользователя.

Пример создания меню:  

```cpp
std::unique_ptr<QMenu> figureMenu = std::make_unique<QMenu>();

figureMenu->addAction("Flex", this, SLOT(flexFigure())); //Добавили действие в меню, которое вызовет определенную функцию
figureMenu->popup(this->mapToGlobal(position)); //Отобразим меню в каком-то месте
```


`QMenu` также поддерживает создание подменю, разделителей и других элементов управления. Подробнее об этом можно узнать в [официальной документации Qt](https://doc.qt.io/qt-5/qmenu.html).

### MouseEvent

`mousePressEvent()` - это метод класса `QWidget`, который вызывается при нажатии кнопки мыши на виджете. Он используется для обработки событий мыши в пользовательском интерфейсе.  

Метод `mousePressEvent()` можно переопределить в пользовательском классе виджета, чтобы добавить обработку нажатий мыши. В этом методе можно проверить, какая кнопка мыши была нажата, получить ее координаты и выполнить определенные действия в зависимости от этого.  

Пример переопределения метода `mousePressEvent()`:   
```cpp
void MyWidget::mousePressEvent(QMouseEvent* event)
{
    if (event->button() == Qt::LeftButton) {
        qDebug() << "Left button pressed at" << event->pos();
    }
}
```

Здесь мы переопределяем метод `mousePressEvent()` в пользовательском классе виджета `MyWidget`. Внутри метода мы проверяем, была ли нажата левая кнопка мыши с помощью метода `button()`. Если это так, мы выводим в консоль координаты нажатия мыши с помощью метода `pos()`.   

Таким образом, при нажатии левой кнопки мыши на виджете `MyWidget` в консоль будет выведено сообщение с координатами нажатия.  

Подробнее можно почитать в [официальной документации.](https://doc.qt.io/qt-5/qwidget.html#mousePressEvent)

---
## Задание   

1. Добавить возможность перетаскивания фигур мышью.
2. Добавить отображение контекстного меню при клике ПКМ на фигуру. В меню должен быть пункт ***Удалить***, который удалит фигуру.

---  


## Этапы выполнения  

1. Чтобы отловить процесс перемещения фигуры, переопределите метод `QWidget::mousePressEvent()` класса вашего виджета. При нажатии на левую кнопку мыши сохраните указатель на фигуру под курсором.
2. При движении мыши (в методе mousePressEvent), проверьте, нажата ли при этом левая кнопка. Если нажата, то измените координаты запомненной фигуры на новые, а затем перерисуйте окно.
3. Меню реализовать с использованием [`QMenu`](https://doc.qt.io/qt-5/qmenu.html)


---



