# Объектно-ориентированное программирование  

## Лабораторная работа №9. Рисование  

---  
## Теоретическая справка   

### std::list

`std::list` - это контейнер, предоставляемый библиотекой стандартных шаблонов C++ (STL), который реализует двусвязный список. Каждый элемент списка содержит указатель на предыдущий и следующий элементы, кроме первого и последнего, которые не имеют предыдущего и следующего элементов соответственно. Двусвязный список может быть эффективным выбором в некоторых случаях, например, когда нужно быстро вставлять или удалять элементы в середине контейнера, поскольку эти операции не требуют перемещения других элементов в контейнере.  

`std::list` поддерживает следующие операции:

* `push_back` и `push_front`: добавление элемента в конец или начало списка соответственно;
* `pop_back` и `pop_front`: удаление последнего или первого элемента списка соответственно;
* `insert`: вставка элемента в произвольную позицию списка;
* `erase`: удаление элемента из произвольной позиции списка;
* `size`: получение количества элементов в списке;
* `empty`: проверка, пуст ли список;
* `begin` и `end`: получение итераторов на начало и конец списка соответственно.

Кроме того, `std::list` поддерживает быстрое перемещение элементов из одного списка в другой с помощью методов `splice`, `merge`, `remove`, `reverse`, `sort` и `unique`.

**Преимущества использования** `std::list`:

* Вставка и удаление элементов в середине списка происходит быстро и не требует перестроения всего списка.
* Нет необходимости копировать элементы при вставке или удалении элементов.
* Возможность добавления и удаления элементов в начале и конце списка.

**Недостатки использования** `std::list`:

* Доступ к элементам списка происходит не по индексу, а только через итераторы, что может быть неудобно в некоторых ситуациях.
* Доступ к элементам списка происходит медленнее, чем в других контейнерах, таких как `std::vector`, из-за необходимости перехода по указателям на предыдущий и следующий элементы.
* *ольшой расход памяти из-за необходимости хранения указателей на предыдущий и следующий элементы.

Пример использования `std::list`:  

```cpp
#include <iostream>
#include <list>

int main() {
    // Создаем пустой список myList типа int
    std::list<int> myList;

    // Добавляем элементы в список с помощью метода push_back
    myList.push_back(1);
    myList.push_back(2);
    myList.push_back(3);

    // Создаем новый список myOtherList и копируем в него элементы из myList
    std::list<int> myOtherList(myList.begin(), myList.end());

    // Выводим элементы myList на экран
    std::cout << "myList: ";
    for (int& i : myList) {
        std::cout << i << " ";
    }
    std::cout << std::endl;

    // Выводим элементы myOtherList на экран
    std::cout << "myOtherList: ";
    for (int& i : myOtherList) {
        std::cout << i << " ";
    }
    std::cout << std::endl;

    // Удаляем первый элемент из myList
    myList.pop_front();

    // Вставляем новый элемент в myOtherList перед вторым элементом
    auto it = myOtherList.begin();
    ++it; // Указатель на второй элемент
    myOtherList.insert(it, 4);

    // Удаляем последний элемент из myOtherList
    myOtherList.pop_back();

    // Выводим элементы myList на экран
    std::cout << "myList: ";
    for (int& i : myList) {
        std::cout << i << " ";
    }
    std::cout << std::endl;

    // Выводим элементы myOtherList на экран
    std::cout << "myOtherList: ";
    for (int& i : myOtherList) {
        std::cout << i << " ";
    }
    std::cout << std::endl;

    return 0;
}
```

Объяснение примера:

В этом примере мы создаем пустой список `myList` типа `int`, добавляем в него три элемента с помощью метода `push_back`, а затем создаем новый список `myOtherList`, копируя элементы из `myList` с помощью конструктора, который принимает диапазон итераторов.

Затем мы выводим элементы `myList` и `myOtherList` на экран, используя цикл `for`. После этого мы удаляем первый элемент из `myList` с помощью метода `pop_front`, вставляем новый элемент 4 в `myOtherList` перед вторым элементом с помощью метода `insert`, и удаляем последний элемент из `myOtherList` с помощью метода `pop_back`.

Наконец, мы выводим элементы `myList` и `myOtherList` на экран снова, чтобы убедиться, что изменения были выполнены успешно.

Примечание: для использования `std::list` необходимо включить заголовочный файл `<list>`.


---

### QPainter

`QPainter` - это класс, который используется для рисования различных графических объектов, таких как линии, прямоугольники, текст и т.д. Он является частью фреймворка Qt и предоставляет множество методов для работы с графикой.

Для использования `QPainter` необходимо создать экземпляр этого класса и передать ему объект `QPaintDevice`, на котором будет происходить рисование. Обычно в качестве `QPaintDevice` используется объект `QWidget`, на котором можно рисовать, например, окно приложения.

Пример создания экземпляра `QPainter` и рисования прямоугольника на окне приложения:

```cpp
void MyWidget::paintEvent(QPaintEvent* event)
{
    QPainter painter(this); // создаем экземпляр QPainter и передаем ему объект QWidget
    painter.drawRect(50, 50, 100, 100); // рисуем прямоугольник с координатами (50, 50) и размерами 100x100 пикселей
}
```

Этот код должен быть размещен в методе `paintEvent` класса, который является наследником `QWidget`. Этот метод вызывается автоматически, когда необходимо перерисовать окно, например, при изменении размера окна или при обновлении содержимого.  

Методы `QPainter` позволяют настраивать цвет, шрифт, толщину линии и другие параметры рисования. Например, чтобы нарисовать линию красного цвета толщиной 2 пикселя, можно использовать следующий код:  

```cpp
painter.setPen(QPen(Qt::red, 2));
painter.drawLine(0, 0, 100, 100);
```

Здесь мы используем метод `setPen` для установки параметров рисования, а затем метод `drawLine` для рисования линии. Метод `QPen` используется для создания объекта, который содержит параметры рисования, такие как цвет и толщина линии.

Еще пример:  

```cpp
void MyWidget::paintEvent(QPaintEvent *event)
{
    QPainter painter(this);

    // Рисуем прямоугольник
    QRect rect(10, 10, 50, 50);
    painter.drawRect(rect);

    // Рисуем текст
    QString text("Hello, world!");
    painter.drawText(rect, Qt::AlignCenter, text);

    // Рисуем эллипс
    QRect ellipseRect(100, 100, 100, 50);
    painter.drawEllipse(ellipseRect);

    painter.end();
}
```

Больше вы узнаете, когда сами изучите документацию к [QPainter.](https://doc.qt.io/qt-5/qtwidgets-painting-basicdrawing-example.html)

---
## Задание  

Создать программу в Qt Creator, которая рисует в окне набор фигур: треугольники, круги, прямоугольники. Параметры фигур (координаты вершин, центров, диаметры и тд) должны задаваться в самой программе с помощью std::list.

---

## **Этапы выполнения**  

1. Изучить документацию к [QPainter](https://doc.qt.io/qt-5/qtwidgets-painting-basicdrawing-example.html). Для рисования будет использоваться данный класс.
2. Создать свой виджет, который будет наследован от QWidget, и переопределите в нем метод paintEvent.
3. Разработать абстрактный класс, от которого будет наследованы все фигуры.
4. Добавить в абстрактный класс и в классы фигур метод, который будет получать на вход QPainter и сам отрисовывать фигуру.

---

## Вопросы

1. Что такое `std::list`?
2. Плюсы `std::list`.
3. Минусы `std::list`.
4. Назвать основные методы `std::list`.
